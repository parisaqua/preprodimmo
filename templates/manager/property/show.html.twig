{% extends 'base.html.twig' %}

{% block title %}- Détail de mon bien n° ...{% endblock %}

{% block body %}

<div class="container">

 <div class="row mt-4">
    <div class="col-md-4 jumbotron">
        <div data-slider>
            {% if property.picture %}
                {% for picture in property.pictures %}
                    <img src="{{ vich_uploader_asset(picture, 'imageFile') | imagine_filter('medium') }}" alt="card-img-top" style="width: 100%; height:auto;">
                {% endfor %}
            {% else %}
                <img src="{{ '/images/default-property.jpg' | imagine_filter('medium') }}" alt="card-img-top" style="width: 100%; height:auto;">
            {% endif %}
        </div>
    </div>
    <div class="col-md-8">
        <h2> {{ property.title }} </h2>
        <h3> {{ property.rooms }} pièces - {{ property.surface | number_format(2,',', ' ') }} m² </h3>
        <hr>
        {% for document in property.documents %}
            <div class="col-md-4 current-doc" id="currentDoc">
                <a href="#" target="_blank" title="{{document.fileName}}">
                    <img class="doc" src="{{  '/images/pdf.png' }}" alt=""> {{document.name}}
                </a>
            </div>
        {% endfor %}
        
    </div>
</div>

{# <div>
<button type="button" data-toggle="modal" data-target="#flashesModal">Launch modal</button>
</div> #}

{% if app.user and app.user == property.manager or is_granted('ROLE_ADMIN') %}
    <div class="col-md-6 text-center">
        {% if app.user and is_granted('ROLE_ADMIN') %}
            <a href=" {{ path('admin.property.manager.edit', {id: property.id}) }} " class="btn btn-info">Editer</a>
        {% elseif app.user and app.user == property.manager %}
            <a href=" {{ path('property.manager.edit', {id: property.id}) }} " class="btn btn-info">Editer</a>
        {% endif %}

    </div>
    <div class="col-md-6 text-center">
            <a href=" {{ path('myproperty.manager.index') }} " class="btn btn-secondary">Retour à la liste</a>
    </div>
{% endif %}


</div>
        


 






{% endblock %}